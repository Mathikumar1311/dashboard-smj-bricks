<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>
</head>

<body>
    <div class="splash-screen">
        <div class="splash-container">
            <div class="logo-container">
                <div class="logo-box">
                    <i class="fas fa-chart-line logo-icon"></i>
                </div>
            </div>
            <div class="app-info">
                <h1 class="app-name">Business Manager</h1>
                <p class="app-tagline">Professional Management System</p>
            </div>
            <div class="loading-container">
                <div class="loading-progress">
                    <div class="progress-container">
                        <div class="progress-bar">
                            <div class="progress-fill"></div>
                        </div>
                        <span class="progress-text">0%</span>
                    </div>
                    <p class="loading-status">Initializing application...</p>
                </div>
            </div>
            <div class="version-info">
                <span>Version 1.0.5</span>
            </div>
        </div>
    </div>

    <!-- Login Section -->
    <section id="loginSection" class="login-section">
        <div class="login-container">
            <div class="login-card">
                <h1 data-lang="login_title"><i class="fas fa-chart-line"></i> Business Dashboard</h1>
                <form id="loginForm" class="login-form">
                    <div class="form-group">
                        <label data-lang="username"><i class="fas fa-user"></i> Username</label>
                        <input type="text" id="username" name="username" required autocomplete="username">
                    </div>
                    <div class="form-group password-group">
                        <label data-lang="password"><i class="fas fa-lock"></i> Password</label>
                        <div class="password-input-container">
                            <input type="password" id="password" name="password" required
                                autocomplete="current-password">
                            <button type="button" class="password-toggle">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </div>
                    <button type="submit" class="btn-primary" data-lang="login">
                        <i class="fas fa-sign-in-alt"></i> Login
                    </button>
                </form>
                <div id="loginError" class="error-message hidden"></div>

                <!-- Demo Credentials -->
                <div class="demo-credentials">
                    <h3>Demo Credentials:</h3>
                    <p><strong>Admin:</strong> admin / admin123</p>
                    <p><strong>Manager:</strong> manager / manager123</p>
                    <p><strong>Supervisor:</strong> supervisor / supervisor123</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Dashboard Section -->
    <section id="dashboardSection" class="dashboard-section hidden">
        <!-- Topbar -->
        <header class="topbar">
            <div class="topbar-left">
                <button id="sidebarToggle" class="sidebar-toggle">
                    <i class="fas fa-bars"></i>
                </button>
                <h1 data-lang="dashboard_title"><i class="fas fa-chart-line"></i> Business Dashboard</h1>
            </div>
            <div class="topbar-right">
                <select id="languageSelect" class="language-select">
                    <option value="en">English</option>
                    <option value="ta">தமிழ்</option>
                </select>

                <button id="themeToggle" class="theme-toggle" title="Toggle theme">
                    <i class="fas fa-moon"></i>
                </button>

                <!-- Subtle Online/Offline Indicator -->
                <div id="dbStatus" class="db-status online" title="Connected to cloud database">
                    <i class="fas fa-cloud"></i>
                    <span>Online</span>
                </div>

                <div class="user-info">
                    <img id="userAvatar" class="user-avatar"
                        src="https://ui-avatars.com/api/?name=User&background=ff6b35&color=fff" alt="User Avatar">
                    <span id="userName"></span>
                    <button id="logoutBtn" class="btn-secondary" data-lang="logout">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                </div>
            </div>
        </header>

        <div class="dashboard-container">
            <!-- Sidebar -->
            <nav id="sidebar" class="sidebar">
                <ul class="nav-menu">
                    <li><a href="#dashboard" class="nav-link active" data-section="dashboard">
                            <i class="fas fa-tachometer-alt"></i> <span data-lang="dashboard">Dashboard</span>
                        </a></li>
                    <li class="admin-only"><a href="#users" class="nav-link" data-section="users">
                            <i class="fas fa-users"></i> <span data-lang="users">Users</span>
                        </a></li>
                    <li class="admin-manager"><a href="#employees" class="nav-link" data-section="employees">
                            <i class="fas fa-user-tie"></i> <span data-lang="employees">Employees</span>
                        </a></li>
                    <li class="admin-manager"><a href="#salary" class="nav-link" data-section="salary">
                            <i class="fas fa-money-bill-wave"></i> <span data-lang="salary">Salary</span>
                        </a></li>
                    <!-- NEW: Attendance Section -->
                    <li class="admin-manager"><a href="#attendance" class="nav-link" data-section="attendance">
                            <i class="fas fa-calendar-check"></i> <span>Attendance</span>
                        </a></li>
                    <!-- NEW: Salary Payments Section -->
                    <li class="admin-manager"><a href="#salary-payments" class="nav-link" data-section="salary-payments">
                            <i class="fas fa-money-check"></i> <span>Salary Payments</span>
                        </a></li>
                    <li class="admin-supervisor"><a href="#billing" class="nav-link" data-section="billing">
                            <i class="fas fa-file-invoice-dollar"></i> <span data-lang="billing">Billing</span>
                        </a></li>
                    <li class="admin-supervisor"><a href="#customers" class="nav-link" data-section="customers">
                            <i class="fas fa-user-friends"></i> <span data-lang="customers">Customers</span>
                        </a></li>
                    <li class="admin-supervisor"><a href="#pending" class="nav-link" data-section="pending">
                            <i class="fas fa-clock"></i> <span data-lang="pending">Pending</span>
                        </a></li>
                    <li class="admin-supervisor"><a href="#payments" class="nav-link" data-section="payments">
                            <i class="fas fa-credit-card"></i> <span data-lang="payments">Payments</span>
                        </a></li>
                    <li><a href="#reports" class="nav-link" data-section="reports">
                            <i class="fas fa-chart-bar"></i> <span data-lang="reports">Reports</span>
                        </a></li>
                    <li class="settings-item"><a href="#settings" class="nav-link" data-section="settings">
                            <i class="fas fa-cog"></i> <span data-lang="settings">Settings</span>
                        </a></li>
                </ul>
            </nav>

            <!-- Main Content -->
            <main class="main-content">
                <!-- Dashboard Content -->
                <div id="dashboardContent" class="content-section active">
                    <div class="content-header">
                        <h2 data-lang="dashboard"><i class="fas fa-tachometer-alt"></i> Dashboard</h2>
                        <div class="online-users">
                            <span data-lang="users_online">Users online:</span>
                            <span id="onlineUsersCount">0</span>
                        </div>
                    </div>
                    <div class="cards-grid">
                        <div class="card">
                            <div class="card-icon"><i class="fas fa-wallet"></i></div>
                            <h3 data-lang="total_balance">Total Sales</h3>
                            <p class="card-value" id="totalBalance">₹0</p>
                        </div>
                        <div class="card">
                            <div class="card-icon"><i class="fas fa-percentage"></i></div>
                            <h3 data-lang="gst_amount">GST Amount</h3>
                            <p class="card-value" id="gstAmount">₹0</p>
                        </div>
                        <div class="card">
                            <div class="card-icon"><i class="fas fa-chart-line"></i></div>
                            <h3 data-lang="recent_activity">Total Bills</h3>
                            <p class="card-value" id="recentActivity">0</p>
                        </div>
                        <div class="card">
                            <div class="card-icon"><i class="fas fa-clock"></i></div>
                            <h3 data-lang="pending_payments">Pending Bills</h3>
                            <p class="card-value" id="pendingPayments">0</p>
                        </div>
                        <div class="card">
                            <div class="card-icon"><i class="fas fa-users"></i></div>
                            <h3 data-lang="total_customers">Total Customers</h3>
                            <p class="card-value" id="totalCustomers">0</p>
                        </div>
                        <div class="card">
                            <div class="card-icon"><i class="fas fa-user-tie"></i></div>
                            <h3 data-lang="total_employees">Total Employees</h3>
                            <p class="card-value" id="totalEmployees">0</p>
                        </div>
                    </div>
                </div>

                <!-- Users Content -->
                <div id="usersContent" class="content-section">
                    <div class="content-header">
                        <h2><i class="fas fa-users"></i> User Management</h2>
                        <div class="header-actions">
                            <div class="search-box">
                                <i class="fas fa-search"></i>
                                <input type="text" id="userSearch" placeholder="Search users...">
                            </div>
                            <button id="exportUsersBtn" class="btn-secondary">
                                <i class="fas fa-download"></i> Export
                            </button>
                            <button id="addUserBtn" class="btn-primary">
                                <i class="fas fa-plus"></i> Add User
                            </button>
                        </div>
                    </div>

                    <div class="table-container">
                        <table id="usersTable">
                            <thead>
                                <tr>
                                    <th>User</th>
                                    <th>Email</th>
                                    <th>Phone</th>
                                    <th>Role</th>
                                    <th>Created Date</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="usersTableBody">
                                <!-- Users will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Employees Content -->
                <div id="employeesContent" class="content-section">
                    <div class="content-header">
                        <h2 data-lang="employees"><i class="fas fa-user-tie"></i> Employees</h2>
                        <div class="header-actions">
                            <!-- Search Box -->
                            <div class="search-container">
                                <div class="search-box">
                                    <i class="fas fa-search"></i>
                                    <input type="text" id="employeeSearch"
                                        placeholder="Search by ID, name, phone, role..."
                                        data-lang="search_employees_placeholder" />
                                    <button id="clearSearchBtn" class="btn-secondary btn-sm" style="display: none;"
                                        title="Clear search">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                            </div>

                            <!-- NEW: Family Group Button -->
                            <button id="createFamilyGroupBtn" class="btn-secondary">
                                <i class="fas fa-users"></i> Family Groups
                            </button>

                            <button id="exportEmployeesBtn" class="btn-secondary" data-lang="export">
                                <i class="fas fa-download"></i> Export
                            </button>
                            <button id="addEmployeeBtn" class="btn-primary" data-lang="add_employee">
                                <i class="fas fa-plus"></i> Add Employee
                            </button>
                        </div>
                    </div>

                    <!-- Search Results Counter -->
                    <div id="searchResultsCount" class="search-results-count">
                        <!-- Search results count will be displayed here -->
                    </div>

                    <div class="table-container">
                        <table id="employeesTable" class="data-table">
                            <thead>
                                <tr>
                                    <th data-lang="employee_id">Employee ID</th>
                                    <th data-lang="name">Name</th>
                                    <th data-lang="phone">Phone</th>
                                    <th data-lang="type">Type</th>
                                    <th>Status</th>
                                    <th data-lang="role">Role</th>
                                    <th data-lang="join_date">Join Date</th>
                                    <th>Family</th>
                                    <th>Pending Advances</th>
                                    <th data-lang="actions">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="employeesTableBody">
                                <!-- Employees will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Salary Content -->
                <div id="salaryContent" class="content-section">
                    <div class="content-header">
                        <h2 data-lang="salary"><i class="fas fa-money-bill-wave"></i> Salary Management</h2>
                        <div class="header-actions">
                            <div class="filter-buttons">
                                <button class="btn-filter active" data-filter="all">All</button>
                                <button class="btn-filter" data-filter="pending">Pending</button>
                                <button class="btn-filter" data-filter="paid">Paid</button>
                                <button class="btn-filter" data-filter="today">Today</button>
                                <button class="btn-filter" data-filter="week">This Week</button>
                                <button class="btn-filter" data-filter="month">This Month</button>
                            </div>
                            <button id="exportSalaryBtn" class="btn-secondary">
                                <i class="fas fa-download"></i> Export
                            </button>
                        </div>
                    </div>

                    <!-- Salary Summary Cards -->
                    <div class="summary-cards" style="margin-bottom: 2rem;">
                        <div class="summary-card">
                            <div class="summary-icon total-salary">
                                <i class="fas fa-wallet"></i>
                            </div>
                            <div class="summary-content">
                                <div class="summary-label">Total Paid This Month</div>
                                <div class="summary-value" id="totalPaidAmount">₹0</div>
                            </div>
                        </div>
                        <div class="summary-card">
                            <div class="summary-icon pending">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="summary-content">
                                <div class="summary-label">Pending Payments</div>
                                <div class="summary-value" id="pendingCount">0</div>
                            </div>
                        </div>
                        <div class="summary-card">
                            <div class="summary-icon incentive">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="summary-content">
                                <div class="summary-label">Total Incentives</div>
                                <div class="summary-value" id="totalIncentives">₹0</div>
                            </div>
                        </div>
                    </div>

                    <!-- Salary Form Section -->
                    <div class="salary-form-container">
                        <form id="salaryForm" class="form-card">
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Employee</label>
                                    <select id="salaryEmployee" required>
                                        <option value="">Select Employee</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Date</label>
                                    <input type="date" id="salaryDate" required>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Base Salary (₹) *</label>
                                    <input type="number" id="salaryAmount" required min="0" step="0.01">
                                </div>
                                <div class="form-group">
                                    <label>Incentive Amount (₹)</label>
                                    <input type="number" id="incentiveAmount" min="0" step="0.01" value="0">
                                </div>
                                <div class="form-group">
                                    <label>Advance Amount (₹)</label>
                                    <input type="number" id="advanceAmount" min="0" step="0.01" value="0"
                                        placeholder="Optional">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Total Amount (₹)</label>
                                    <input type="text" id="totalAmount" readonly class="readonly-field">
                                </div>
                                <div class="form-group">
                                    <label>Status</label>
                                    <select id="salaryStatus" required>
                                        <option value="paid">Paid</option>
                                        <option value="pending">Pending</option>
                                    </select>
                                </div>
                            </div>
                            <button type="submit" class="btn-primary">
                                <i class="fas fa-plus"></i> Add Salary Payment
                            </button>
                        </form>
                    </div>

                    <div class="table-container">
                        <table id="salaryTable" class="data-table">
                            <thead>
                                <tr>
                                    <th>Time</th>
                                    <th data-lang="employee_id">Employee ID</th>
                                    <th data-lang="employee">Employee</th>
                                    <th>Salary</th>
                                    <th>Incentive</th>
                                    <th>Advance</th>
                                    <th>Total</th>
                                    <th>Allocation Used</th>
                                    <th>Status</th>
                                    <th>Week</th>
                                    <th data-lang="actions">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="salaryTableBody"></tbody>
                        </table>
                    </div>
                </div>

                <!-- NEW: Attendance Section -->
                <div id="attendanceContent" class="content-section">
                    <div class="content-header">
                        <h2><i class="fas fa-calendar-check"></i> Attendance Management</h2>
                        <div class="header-actions">
                            <button id="quickAttendanceBtn" class="btn-primary">
                                <i class="fas fa-bolt"></i> Quick Attendance
                            </button>
                            <button id="markAttendanceBtn" class="btn-secondary">
                                <i class="fas fa-plus"></i> Mark Attendance
                            </button>
                            <button id="viewAttendanceReport" class="btn-secondary">
                                <i class="fas fa-chart-bar"></i> Reports
                            </button>
                        </div>
                    </div>

                    <!-- Today's Summary -->
                    <div class="attendance-summary-cards">
                        <div class="summary-card">
                            <div class="summary-icon present">
                                <i class="fas fa-user-check"></i>
                            </div>
                            <div class="summary-content">
                                <div class="summary-label">Present Today</div>
                                <div class="summary-value" id="presentTodayCount">0</div>
                            </div>
                        </div>
                        <div class="summary-card">
                            <div class="summary-icon absent">
                                <i class="fas fa-user-times"></i>
                            </div>
                            <div class="summary-content">
                                <div class="summary-label">Absent Today</div>
                                <div class="summary-value" id="absentTodayCount">0</div>
                            </div>
                        </div>
                        <div class="summary-card">
                            <div class="summary-icon half-day">
                                <i class="fas fa-user-clock"></i>
                            </div>
                            <div class="summary-content">
                                <div class="summary-label">Half Days</div>
                                <div class="summary-value" id="halfDayCount">0</div>
                            </div>
                        </div>
                        <div class="summary-card">
                            <div class="summary-icon total">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="summary-content">
                                <div class="summary-label">Total Employees</div>
                                <div class="summary-value" id="totalEmployeesCount">0</div>
                            </div>
                        </div>
                    </div>

                    <!-- Attendance Controls -->
                    <div class="attendance-controls-bar">
                        <div class="date-filter">
                            <label for="attendanceDateFilter">Date:</label>
                            <input type="date" id="attendanceDateFilter">
                        </div>
                        <div class="status-filter">
                            <label for="attendanceStatusFilter">Status:</label>
                            <select id="attendanceStatusFilter">
                                <option value="all">All Status</option>
                                <option value="present">Present</option>
                                <option value="absent">Absent</option>
                                <option value="half_day">Half Day</option>
                            </select>
                        </div>
                        <button id="refreshAttendance" class="btn-secondary">
                            <i class="fas fa-sync"></i> Refresh
                        </button>
                    </div>

                    <!-- Attendance Table -->
                    <div class="table-container">
                        <table id="attendanceTable" class="data-table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Employee ID</th>
                                    <th>Employee Name</th>
                                    <th>Status</th>
                                    <th>Check In</th>
                                    <th>Check Out</th>
                                    <th>Work Hours</th>
                                    <th>Overtime</th>
                                    <th>Notes</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="attendanceTableBody">
                                <tr>
                                    <td colspan="10" class="no-data">
                                        <i class="fas fa-calendar-day"></i>
                                        <br>No attendance records found
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- NEW: Salary Payments Section -->
                <div id="salaryPaymentsContent" class="content-section">
                    <div class="content-header">
                        <h2><i class="fas fa-money-check"></i> Salary Payments</h2>
                        <div class="header-actions">
                            <button id="processSalaryBtn" class="btn-primary">
                                <i class="fas fa-plus"></i> Process Salary
                            </button>
                        </div>
                    </div>

                    <div class="table-container">
                        <table id="salaryPaymentsTable" class="data-table">
                            <thead>
                                <tr>
                                    <th>Payment Date</th>
                                    <th>Employee</th>
                                    <th>Pay Period</th>
                                    <th>Basic Salary</th>
                                    <th>Overtime</th>
                                    <th>Advances</th>
                                    <th>Net Salary</th>
                                    <th>Method</th>
                                    <th>Payslip</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="salaryPaymentsTableBody"></tbody>
                        </table>
                    </div>
                </div>

                <!-- Billing Content -->
                <div id="billingContent" class="content-section">
                    <div class="content-header">
                        <h2 data-lang="billing"><i class="fas fa-file-invoice-dollar"></i> Billing</h2>
                        <button id="addBillBtn" class="btn-primary" data-lang="add_bill">
                            <i class="fas fa-plus"></i> Add Bill
                        </button>
                    </div>
                    <div class="table-container">
                        <div class="table-actions">
                            <button id="exportBillsBtn" class="btn-secondary">
                                <i class="fas fa-download"></i> Export
                            </button>
                        </div>
                        <table id="billsTable" class="data-table">
                            <thead>
                                <tr>
                                    <th data-lang="bill_no">Bill No</th>
                                    <th data-lang="customer">Customer</th>
                                    <th data-lang="amount">Amount</th>
                                    <th data-lang="gst">GST</th>
                                    <th data-lang="date">Date</th>
                                    <th data-lang="status">Status</th>
                                    <th data-lang="actions">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="billsTableBody"></tbody>
                        </table>
                    </div>
                </div>

                <!-- Customers Content -->
                <div id="customersContent" class="content-section">
                    <div class="content-header">
                        <h2 data-lang="customers"><i class="fas fa-user-friends"></i> Customers</h2>
                        <button id="addCustomerBtn" class="btn-primary" data-lang="add_customer">
                            <i class="fas fa-plus"></i> Add Customer
                        </button>
                    </div>
                    <div class="table-container">
                        <div class="table-actions">
                            <button id="exportCustomersBtn" class="btn-secondary">
                                <i class="fas fa-download"></i> Export
                            </button>
                        </div>
                        <table id="customersTable" class="data-table">
                            <thead>
                                <tr>
                                    <th data-lang="name">Name</th>
                                    <th data-lang="phone">Phone</th>
                                    <th data-lang="email">Email</th>
                                    <th data-lang="total_bills">Total Bills</th>
                                    <th data-lang="total_amount">Total Amount</th>
                                    <th data-lang="actions">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="customersTableBody"></tbody>
                        </table>
                    </div>
                </div>

                <!-- Pending Content -->
                <div id="pendingContent" class="content-section">
                    <div class="content-header">
                        <h2 data-lang="pending"><i class="fas fa-clock"></i> Pending Bills</h2>
                    </div>
                    <div class="table-container">
                        <div class="table-actions">
                            <button id="exportPendingBtn" class="btn-secondary">
                                <i class="fas fa-download"></i> Export
                            </button>
                        </div>
                        <table id="pendingTable" class="data-table">
                            <thead>
                                <tr>
                                    <th data-lang="bill_no">Bill No</th>
                                    <th data-lang="customer">Customer</th>
                                    <th data-lang="amount">Amount</th>
                                    <th data-lang="due_date">Due Date</th>
                                    <th data-lang="actions">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="pendingTableBody"></tbody>
                        </table>
                    </div>
                </div>

                <!-- Payments Content -->
                <div id="paymentsContent" class="content-section">
                    <div class="content-header">
                        <h2 data-lang="payments"><i class="fas fa-credit-card"></i> Payments</h2>
                    </div>
                    <div class="table-container">
                        <div class="table-actions">
                            <button id="exportPaymentsBtn" class="btn-secondary">
                                <i class="fas fa-download"></i> Export
                            </button>
                        </div>
                        <table id="paymentsTable" class="data-table">
                            <thead>
                                <tr>
                                    <th data-lang="payment_id">Payment ID</th>
                                    <th data-lang="bill_no">Bill No</th>
                                    <th data-lang="customer">Customer</th>
                                    <th data-lang="amount">Amount</th>
                                    <th data-lang="date">Date</th>
                                    <th data-lang="method">Method</th>
                                </tr>
                            </thead>
                            <tbody id="paymentsTableBody"></tbody>
                        </table>
                    </div>
                </div>

                <!-- Reports Content -->
                <div id="reportsContent" class="content-section">
                    <div class="content-header">
                        <h2 data-lang="reports"><i class="fas fa-chart-bar"></i> Reports</h2>
                        <div class="report-actions">
                            <button id="exportExcel" class="export-btn">
                                <i class="fas fa-file-excel"></i> Export Excel
                            </button>
                            <button id="exportPdf" class="export-btn pdf">
                                <i class="fas fa-file-pdf"></i> Export PDF
                            </button>
                            <button id="backupData" class="btn-secondary">
                                <i class="fas fa-database"></i> Backup Data
                            </button>
                        </div>
                    </div>

                    <div class="reports-grid">
                        <div class="report-card">
                            <h3>Sales Report</h3>
                            <div class="report-controls">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label>Start Date</label>
                                        <input type="date" id="reportStartDate">
                                    </div>
                                    <div class="form-group">
                                        <label>End Date</label>
                                        <input type="date" id="reportEndDate">
                                    </div>
                                </div>
                                <button id="generateReport" class="btn-primary">
                                    <i class="fas fa-chart-bar"></i> Generate Report
                                </button>
                            </div>
                        </div>

                        <div class="report-card">
                            <h3>Quick Statistics</h3>
                            <div id="reportStats" class="report-stats">
                                <!-- Stats will be loaded here -->
                            </div>
                        </div>
                    </div>

                    <div class="table-container">
                        <table id="reportsTable" class="data-table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Bill No</th>
                                    <th>Customer</th>
                                    <th>Amount</th>
                                    <th>GST</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="reportsTableBody"></tbody>
                        </table>
                    </div>
                </div>

                <!-- Settings Content -->
                <div id="settingsContent" class="content-section">
                    <div class="content-header">
                        <h2 data-lang="settings"><i class="fas fa-cog"></i> Settings</h2>
                    </div>

                    <!-- Add navigation tabs -->
                    <div class="settings-nav">
                        <button class="nav-tab active" data-tab="profile">Profile</button>
                        <button class="nav-tab" data-tab="appearance">Appearance</button>
                        <button class="nav-tab" data-tab="security">Security</button>
                        <button class="nav-tab" data-tab="backup">Backup & Restore</button>
                    </div>
                    <!-- settings content -->
                    <div class="settings-content">
                        <!-- Profile Tab -->
                        <div id="profileTab" class="tab-content active">
                            <div class="settings-section">
                                <h3 data-lang="profile_settings">Profile Settings</h3>
                                <div class="avatar-upload-large">
                                    <img id="settingsAvatar" class="user-avatar xlarge"
                                        src="https://ui-avatars.com/api/?name=User&background=ff6b35&color=fff"
                                        alt="Avatar">
                                    <div class="avatar-actions">
                                        <button id="uploadAvatarBtn" class="btn-primary">
                                            <i class="fas fa-upload"></i> Upload Avatar
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Appearance Tab -->
                        <div id="appearanceTab" class="tab-content">
                            <div class="settings-section">
                                <h3>Theme Settings</h3>
                                <div class="theme-selector">
                                    <div class="theme-options">
                                        <div class="theme-option active" data-theme="orange">
                                            <div class="theme-preview orange-theme"></div>
                                            <span>Orange</span>
                                        </div>
                                        <div class="theme-option" data-theme="blue">
                                            <div class="theme-preview blue-theme"></div>
                                            <span>Blue</span>
                                        </div>
                                        <div class="theme-option" data-theme="green">
                                            <div class="theme-preview green-theme"></div>
                                            <span>Green</span>
                                        </div>
                                        <div class="theme-option" data-theme="purple">
                                            <div class="theme-preview purple-theme"></div>
                                            <span>Purple</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Security Tab -->
                        <div id="securityTab" class="tab-content">
                            <div class="settings-section">
                                <h3>Security Settings</h3>
                                <p>Security features coming soon...</p>
                            </div>
                        </div>

                        <!-- Backup Tab -->
                        <div id="backupTab" class="tab-content">
                            <div class="settings-section">
                                <h3>Backup & Restore</h3>
                                <p>Backup features coming soon...</p>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </section>